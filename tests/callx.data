# Copyright (c) Big Switch Networks, Inc
# SPDX-License-Identifier: Apache-2.0
-- asm
# Test callx instruction (call via register)
# Note: This test verifies the callx instruction executes without crashing.
# The return value cannot be reliably tested because helper function behavior
# is implementation-specific. The unconditional mov after the call means
# the test passes if the instruction executes, regardless of helper behavior.
mov %r1, -1
mov %r2, 5
call helper %r2
mov %r0, 2
exit
-- result
0x2
-- no register offset
call instruction
