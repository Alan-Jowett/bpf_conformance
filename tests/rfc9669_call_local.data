# Copyright (c) Microsoft Corporation
# SPDX-License-Identifier: MIT
-- asm
# RFC 9669 Section 4.3.2: program-local call uses imm as PC-relative target.

mov %r1, 1
mov %r2, 2
mov %r3, 3
mov %r4, 4
mov %r5, 5
call local func1
jne %r0, 15, fail
mov %r0, 1
exit

fail:
mov %r0, 0
exit

func1:
mov %r0, 0
add %r0, %r1
add %r0, %r2
add %r0, %r3
add %r0, %r4
add %r0, %r5
exit

-- result
0x1
